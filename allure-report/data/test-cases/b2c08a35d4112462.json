{"uid":"b2c08a35d4112462","name":"should take consistent calculator screenshots","fullName":"visual.spec.js#Cross-Browser and Visual Testing Visual Regression Testing should take consistent calculator screenshots","historyId":"584659534d5d90825a296d3e820bcbb7:b444eb0fbe6390c71e68b51dd25701fc","time":{"start":1755260313752,"stop":1755260319091,"duration":5339},"status":"failed","statusMessage":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n","statusTrace":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n\n    at /home/damiencookeubuntu/Projects/junit-reporting-examples/tests/playwright/visual.spec.js:64:26","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":true,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n","statusTrace":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n\n    at /home/damiencookeubuntu/Projects/junit-reporting-examples/tests/playwright/visual.spec.js:64:26","steps":[{"name":"Before Hooks","time":{"start":1755260313753,"stop":1755260314215,"duration":462},"status":"passed","steps":[{"name":"context","time":{"start":1755260313753,"stop":1755260313826,"duration":73},"status":"passed","steps":[{"name":"Create context","time":{"start":1755260313753,"stop":1755260313812,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"page","time":{"start":1755260313826,"stop":1755260314215,"duration":389},"status":"passed","steps":[{"name":"Create page","time":{"start":1755260313837,"stop":1755260314215,"duration":378},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to \"/calculator.html\"","time":{"start":1755260314228,"stop":1755260314866,"duration":638},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1755260314870,"stop":1755260315328,"duration":458},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"toHaveScreenshot(calculator-initial.png)","time":{"start":1755260315330,"stop":1755260315750,"duration":420},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('[data-testid=\"number-1\"]')","time":{"start":1755260315759,"stop":1755260315926,"duration":167},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('[data-testid=\"number-2\"]')","time":{"start":1755260315930,"stop":1755260316086,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('[data-testid=\"number-3\"]')","time":{"start":1755260316088,"stop":1755260316209,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"toHaveScreenshot(calculator-with-numbers.png)","time":{"start":1755260316210,"stop":1755260317221,"duration":1011},"status":"failed","statusMessage":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n","statusTrace":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n\n    at /home/damiencookeubuntu/Projects/junit-reporting-examples/tests/playwright/visual.spec.js:64:26","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"After Hooks","time":{"start":1755260317222,"stop":1755260317683,"duration":461},"status":"passed","steps":[{"name":"Screenshot","time":{"start":1755260317227,"stop":1755260317287,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1755260317289,"stop":1755260317289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1755260317290,"stop":1755260317290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Worker Cleanup","time":{"start":1755260317684,"stop":1755260318773,"duration":1089},"status":"passed","steps":[{"name":"browser","time":{"start":1755260317685,"stop":1755260318773,"duration":1088},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"26d59a9ed97ef8fa","name":"calculator-with-numbers","source":"26d59a9ed97ef8fa.imagediff","type":"application/vnd.allure.image.diff","size":34},{"uid":"eaae921acd9546a","name":"calculator-with-numbers","source":"eaae921acd9546a.imagediff","type":"application/vnd.allure.image.diff","size":251760},{"uid":"9a6b1b1eacf35362","name":"screenshot","source":"9a6b1b1eacf35362.png","type":"image/png","size":79295},{"uid":"bc9cd058441bffed","name":"video","source":"bc9cd058441bffed.webm","type":"video/webm","size":98149},{"uid":"397a47b725d6ee2d","name":"error-context","source":"397a47b725d6ee2d.txt","type":"text/markdown","size":1511},{"uid":"dbdb657ccba82835","name":"trace","source":"dbdb657ccba82835.zip","type":"application/zip","size":1294180}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":18,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"JavaScript"},{"name":"framework","value":"Playwright"},{"name":"titlePath","value":" > firefox > visual.spec.js > Cross-Browser and Visual Testing > Visual Regression Testing"},{"name":"host","value":"2I-435ZBL3"},{"name":"thread","value":"2I-435ZBL3-437137-playwright-worker-0"},{"name":"parentSuite","value":"firefox"},{"name":"suite","value":"visual.spec.js"},{"name":"subSuite","value":"Cross-Browser and Visual Testing > Visual Regression Testing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"736855bffbcc069f","status":"broken","statusDetails":"Test timeout of 2000ms exceeded.","time":{"start":1755258070080,"stop":1755258075855,"duration":5775}},{"uid":"9f12093aa15d9741","status":"failed","statusDetails":"Error: expect(page).toHaveScreenshot(expected)\n\n  17235 pixels (ratio 0.02 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 2000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 17235 pixels (ratio 0.02 of all image pixels) are different.\n","time":{"start":1755257558837,"stop":1755257566274,"duration":7437}},{"uid":"527de97aa315e8a9","status":"failed","statusDetails":"Error: expect(page).toHaveScreenshot(expected)\n\n  362058 pixels (ratio 0.40 of all image pixels) are different.\n\n  Snapshot: calculator-with-numbers.png\n\nCall log:\n  - Expect \"toHaveScreenshot(calculator-with-numbers.png)\" with timeout 5000ms\n    - verifying given screenshot expectation\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - 362058 pixels (ratio 0.40 of all image pixels) are different.\n  - waiting 100ms before taking screenshot\n  - taking page screenshot\n    - disabled all CSS animations\n  - waiting for fonts to load...\n  - fonts loaded\n  - captured a stable screenshot\n  - 362058 pixels (ratio 0.40 of all image pixels) are different.\n","time":{"start":1755257012251,"stop":1755257017676,"duration":5425}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"b2c08a35d4112462.json","parameterValues":["firefox"]}